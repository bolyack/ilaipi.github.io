---
layout: post
title: win8/Ubuntu双系统
category: 操作系统
keywords: 双系统
---

win8用久了，就想换操作系统。
以前每次都是备份重要文件之后，全盘干掉重装，可能会装Fedora/ubuntu。
如果装了Fedora/ubuntu，那么就会有些问题。
比如，

```
QQ摄像头没法用了。
有些网银插件不能用了。
iTunes不能用了。
还有，梦幻不能玩了。
```

这次，我不能干掉win8，必须装双系统。
用ubuntu做主系统，用于开发，平时学习用。
只能用windows的时候，就用win8。

---

刚开始没有U盘，就一直在尝试搞 win8硬盘安装ubuntu14.04，网上找到的，
基本都是类似[图文介绍Windows8.1硬盘安装Ubuntu14.04双系统教程](http://www.doudouxitong.com/anzhuang/2014/0718/2584.html)。
大致是说，通过EasyBCD添加启动项，把ubuntu的一些东西放在C盘根目录。
但是我每次都卡在 "Error 15: File not found"，不管参数怎么改。

---

然后买了U盘，打算通过U盘引导。
本以为安装会很顺利，没想到还是遇到了一个问题。
事先从win8删掉的分区，在安装ubuntu选择分区的时候，并不能看到这个空闲的分区。
记得，当时在win8的磁盘管理中，看到的磁盘是 动态 的，如图：

![动态][1]
这可能是我看不到 为分配 空间的原因。
看到的是

```
/dev/sda0   1M
/dev/sda1   99M
/dev/sda2   107G(应该是我的C盘)
/dev/sda3   390G(大概这个数字，基本是我剩下D、E、为分配的总和)
```

无奈我删掉了这个/dev/sda3，把ubuntu装在这个分区了。
可能是因为我没有设置一个/boot的挂载点，也没有给/挂载点设置为主分区，都是默认的逻辑分区。
我安装完成后，重启，发现我什么系统都不能进去了。
这时候手里只有做好的ubuntu启动U盘。
于是就从U盘引导，干掉了win8和刚“装好”的ubuntu，安装了ubuntu。

---

装好之后我安装了virtualbox，然后装了win8 32bit(还好我的移动硬盘里保存了各种操作系统的iso)。
把U盘映射进去，做了win8 64的启动盘。
然后重启，再从U盘引导，整盘安装win8 64。
分区的时候，刻意留了300G。
win8 64装完后，做ubuntu的启动U盘。
做ubuntu启动盘的时候，我打开磁盘管理，看到刚才的 动态 已经变成 基本。

---

再重启，从U盘引导，这时候终于看到了那个300G空闲分区。
挂载了2G swap 逻辑分区，800M /boot 主分区，剩下的挂载为/ 主分区。`(PS:这里比较重要)`
顺利安装完ubuntu。重启的时候直接进入win8了。
然后装了EasyBCD，添加了ubuntu启动引导。
最后，终于可以每次选择进入哪个系统了，并且都可以正常使用。

---

现在，引导方式还不是很好。每次开机，都要把win8的启动画面走完，
然后才到选择操作系统，选了ubuntu之后，还要从头重新启动。

后来把win8的关机方式做了修改，改为深度关机就可以了。


  [1]: http://ww1.sinaimg.cn/large/92540662jw1elyyomi712j20ga03gdgc.jpg